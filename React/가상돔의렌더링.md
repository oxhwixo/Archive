## virtual Dom

리얼 돔은 돔에 변화가 일어났을 때 웹브라우저에서 CSS를 다시 연산하고 레이아웃 구성하고 페이지를 리페인트 한다. 돔 조작이 이루어질 때 마다 이 과정을 반복해야한다. 리액트는 가상돔을 사용해서 데이터 업데이트시 이전 가상돔과 업데이트된 가상돔의 비교를 통해 "업데이트된 부분"만 실제 돔에 적용한다. 그러면 가상돔의 도움 없이 리얼 돔이 변경사항이 있는 부분만 교체할 수는 없는건가?? 가상돔은 어떻게 그게 가능하게 하는걸까??

* 리얼 돔은 노드에 변화가 생기면 연쇄적으로 다른 어디에 영향을 주는지 알 수 없기 때문에 모든 요소가 전부 새로 연산되고 리렌더링 되고 가상돔은 변화된 부분만 연산을 하고 딱 그부분만 리렌더링 되는건가? => 아니다!!

* 브라우저 렌더링과정

  * 1. 브라우저가 html파일을 파싱해서 돔 트리생성
    2. 스타일 정보 파싱해서 렌더 트리 생성
    3. 스크린에 따른 위치 계산등 레이아웃 과정
    4. 페인팅

    돔을 조작할 때 마다 위 과정이 반복됨

* 음.. 리얼돔은 우리가 최종적으로 도달해야되는 결과물을 얻기 위해서 돔 조작들을 할 때마다 위 과정이 반복되며 리렌더링이 되는데 가상돔을 사용한 리액트는 결과물을 얻기 위해서 하는 돔 조작들에 대해서는 렌더링이 일어나지 않고 결과물이 만들어진 후 그것을 반영한 화면에 대한 렌더링을 딱 한번만(혹은 최소한으로) 실행

* 어떤 요소를 클릭했을 때 10개의 태그를 새로 화면에 띄워야 한다면.. 리얼돔에서는 10개의 렌더트리가 생성되지만 가상돔 이용한 라이브러리에서는 1개의 렌더트리만 생성 => 가상돔을 사용해서 데이터 업데이트시 이전 가상돔과 업데이트된 가상돔의 "업데이트된 부분"만 실제 돔에 적용한다.라는 의미가 이런 의미인 것 같다.

* 근데 그러면.. 페이지에서 요소를 클릭해서 그림이 바뀌었을때 리얼돔은 새로고침 되듯이 페이지가 깜빡이고 가상돔은 그 그림만 바꿔주는데.. 이 이유는? 결국 둘다 화면 전체를 새로 렌더링 하는건 같은데 연산을 많이 하냐 한 번만 하냐의 차이로 발생하는건가?